<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="AppleMusicRpc.Pages.AboutPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="Transparent"
    Loaded="Page_Loaded">

    <ScrollViewer VerticalScrollBarVisibility="Hidden">
        <StackPanel Spacing="20" Padding="0,0,0,24">
            <!-- Title -->
            <TextBlock
                Text="About"
                Style="{StaticResource TitleTextBlockStyle}" />

            <!-- App Info Card with Icon -->
            <Border
                Padding="20"
                CornerRadius="8"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1">
                <Grid ColumnSpacing="16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!-- App Icon -->
                    <Border
                        Grid.Column="0"
                        Width="64" Height="64"
                        CornerRadius="8"
                        Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}">
                        <Image
                            x:Name="AppIcon"
                            Width="48" Height="48"
                            Stretch="Uniform" />
                    </Border>

                    <!-- App Info -->
                    <StackPanel Grid.Column="1" Spacing="4" VerticalAlignment="Center">
                        <TextBlock
                            Text="Apple Music Discord RPC"
                            Style="{StaticResource SubtitleTextBlockStyle}" />
                        <TextBlock
                            x:Name="VersionText"
                            Text="Version 1.1.0"
                            Style="{StaticResource CaptionTextBlockStyle}"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Update Available Banner (hidden by default) -->
            <Border
                x:Name="UpdateBanner"
                Visibility="Collapsed"
                Padding="16"
                CornerRadius="8"
                Background="{ThemeResource SystemFillColorSuccessBackgroundBrush}"
                BorderBrush="{ThemeResource SystemFillColorSuccessBrush}"
                BorderThickness="1">
                <Grid ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <FontIcon Grid.Column="0" Glyph="&#xE896;" FontSize="20" />
                    <StackPanel Grid.Column="1" Spacing="2" VerticalAlignment="Center">
                        <TextBlock Text="Update Available" Style="{StaticResource BodyStrongTextBlockStyle}" />
                        <TextBlock x:Name="UpdateVersionText" Text="Version X.X.X is available"
                                   Style="{StaticResource CaptionTextBlockStyle}" />
                    </StackPanel>
                    <Button Grid.Column="2" Content="Download" Click="DownloadUpdate_Click" />
                </Grid>
            </Border>

            <!-- Check for Updates Button -->
            <Button x:Name="CheckUpdatesButton" Click="CheckUpdates_Click">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE895;" FontSize="14" />
                    <TextBlock Text="Check for Updates" />
                </StackPanel>
            </Button>

            <!-- Description -->
            <StackPanel Spacing="8">
                <TextBlock
                    Text="DESCRIPTION"
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    CharacterSpacing="60" />

                <Border Padding="16" CornerRadius="8"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="12">
                        <TextBlock
                            Text="Display your Apple Music listening activity as Discord Rich Presence. Features include:"
                            Style="{StaticResource BodyTextBlockStyle}"
                            TextWrapping="Wrap" />
                        <StackPanel Spacing="4">
                            <TextBlock Text="&#x2022; Real-time track info with album artwork" Style="{StaticResource CaptionTextBlockStyle}" />
                            <TextBlock Text="&#x2022; Progress bar showing playback position" Style="{StaticResource CaptionTextBlockStyle}" />
                            <TextBlock Text="&#x2022; Direct link to play on Apple Music" Style="{StaticResource CaptionTextBlockStyle}" />
                            <TextBlock Text="&#x2022; Last.fm scrobbling support" Style="{StaticResource CaptionTextBlockStyle}" />
                            <TextBlock Text="&#x2022; Listening history and statistics" Style="{StaticResource CaptionTextBlockStyle}" />
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Credits -->
            <StackPanel Spacing="8">
                <TextBlock
                    Text="CREDITS"
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    CharacterSpacing="60" />

                <Border Padding="16" CornerRadius="8"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <StackPanel Spacing="2">
                                <TextBlock Text="Impulse" Style="{StaticResource BodyStrongTextBlockStyle}" />
                                <TextBlock Text="Creator &amp; Developer" Style="{StaticResource CaptionTextBlockStyle}"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                            </StackPanel>
                            <HyperlinkButton Grid.Column="1" Content="Discord"
                                           NavigateUri="https://discord.com/users/711942175675514890"
                                           VerticalAlignment="Center" />
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Built With -->
            <StackPanel Spacing="8">
                <TextBlock
                    Text="BUILT WITH"
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    CharacterSpacing="60" />

                <StackPanel Orientation="Horizontal" Spacing="8">
                    <Border
                        Padding="8,4"
                        CornerRadius="4"
                        Background="{ThemeResource AccentFillColorDefaultBrush}">
                        <TextBlock Text=".NET 8" Style="{StaticResource CaptionTextBlockStyle}"
                                   Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}" />
                    </Border>
                    <Border
                        Padding="8,4"
                        CornerRadius="4"
                        Background="{ThemeResource AccentFillColorDefaultBrush}">
                        <TextBlock Text="WinUI 3" Style="{StaticResource CaptionTextBlockStyle}"
                                   Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}" />
                    </Border>
                    <Border
                        Padding="8,4"
                        CornerRadius="4"
                        Background="{ThemeResource AccentFillColorDefaultBrush}">
                        <TextBlock Text="Windows App SDK" Style="{StaticResource CaptionTextBlockStyle}"
                                   Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}" />
                    </Border>
                </StackPanel>
            </StackPanel>

            <!-- Support -->
            <StackPanel Spacing="8">
                <TextBlock
                    Text="SUPPORT"
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    CharacterSpacing="60" />

                <Border Padding="16" CornerRadius="8"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="12">
                        <TextBlock
                            Text="Need help or found a bug? Reach out through any of these channels:"
                            Style="{StaticResource BodyTextBlockStyle}"
                            TextWrapping="Wrap" />
                        <StackPanel Spacing="8">
                            <HyperlinkButton
                                Content="Report an Issue on GitHub"
                                NavigateUri="https://github.com/impulseb23/Apple-Music-Discord-Rich-Presence/issues"
                                Padding="0" />
                            <HyperlinkButton
                                Content="Contact on Discord"
                                NavigateUri="https://discord.com/users/711942175675514890"
                                Padding="0" />
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <TextBlock Text="Email:" Style="{StaticResource BodyTextBlockStyle}" VerticalAlignment="Center" />
                                <TextBlock Text="impulse@fireflycore.xyz" Style="{StaticResource BodyTextBlockStyle}"
                                           IsTextSelectionEnabled="True" VerticalAlignment="Center" />
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Links -->
            <StackPanel Spacing="8">
                <TextBlock
                    Text="LINKS"
                    Style="{StaticResource CaptionTextBlockStyle}"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    CharacterSpacing="60" />

                <Border Padding="16" CornerRadius="8"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="8">
                        <HyperlinkButton
                            x:Name="GitHubLink"
                            Content="Open Source on GitHub"
                            NavigateUri="https://github.com/impulseb23/Apple-Music-Discord-Rich-Presence"
                            Padding="0" />
                        <HyperlinkButton
                            Content="Discord Developer Portal"
                            NavigateUri="https://discord.com/developers/applications"
                            Padding="0" />
                        <HyperlinkButton
                            Content="Last.fm API Documentation"
                            NavigateUri="https://www.last.fm/api"
                            Padding="0" />
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Technical Note -->
            <Border Padding="12" CornerRadius="6"
                    Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1">
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <FontIcon Glyph="&#xE946;" FontSize="14"
                              Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    <TextBlock
                        Text="This app displays your Discord status as 'Listening to [Artist]' using the official Discord Rich Presence API."
                        Style="{StaticResource CaptionTextBlockStyle}"
                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                        TextWrapping="Wrap" />
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
